<!doctype html>
<html >
<head>
    <meta charset="UTF-8">
    <title>random</title>
    <style>
        .random {
           width:300px; 
        }
        .title {
            width:300px;
            height:100px;
            line-height:100px;
            border:2px solid green;
            text-align:center;
            font-size:30px;
        }
        .btns button {
            margin:20px 50px;
        }
        input {
            width:230px;
        }
        .add-wp button {
            width:50px;
        }
    </style>
</head>
<body>
    <div class="random-wp">
        <div id="title" class="title">点击开始</div>
        <div class="btns">
            <button id="start">开始</button>
            <button id="stop">停止</button>
        </div>
        <div class="add-wp">
            <input type="text">
            <button id="add">新增</button>
        </div>
    </div>
    <script> 
        var start = document.getElementById('start');
        var stop = document.getElementById('stop');
        var add = document.getElementById('add');
        var title = document.getElementById('title');
        var arr = '故宫 长城 十三陵 十渡 圆明园 颐和园'.split(' ');
        console.log(arr);
        var len,
            index,
            timer;
        start.onclick = function() {
            // if(timer) {
            //     return;
            // }
            start.disabled = 'disabled';
            var len = arr.length;
            timer = setInterval(function() {
                index = Math.floor(Math.random()*len);
                title.innerHTML = arr[index];
            },100);
        }
        stop.onclick = function() {
            clearInterval(timer);
            // timer = undefined;
            start.disabled = '';
        }

        add.onclick = function() {

            var input = this.parentNode.getElementsByTagName('input')[0],
            val = input.value;
            var i,intArray = val.split('|'),len=intArray.length;
            input.value = '';
            for(i=0;i<len;i++) {
                if(inArray(intArray[i],arr)) {
                    alert(intArray[i]+'已存在，不添加');
                } else if(intArray[i]) {
                    alert(intArray[i]+'不存在，添加');
                    arr.push(intArray[i]);
                    console.log(arr);
                }
            }
            return arr;
        }
        function inArray(item,arr) {
            var i,len = arr.length;
            for(i=0;i<len;i++) {
                if (arr[i] == item) {
                return true;
                }   
            }
            return false; 
        }
            
    
        // add.onclick = function() {

        //     var input = this.parentNode.getElementsByTagName('input')[0],
        //         val = input.value;
        //     // arr.push(val);
        //     var i, len = arr.length, j; 
        //     for(i=0; i<len; i++) {
        //         for(j=0; j<(input.value.split('|').length); j++) {
        //             if((input.value.split('|')[j]) == arr[i]) {
        //                 alert('已有该景点');
        //                 arr.splice(i,1)                                
        //         }
        //     }
        // }
        // arr = arr.concat(val.split('|'));
        // console.log(arr);
        // input.value = '';
        // };
 //        add.onclick = function() {
 // +        var i, len = arr.length, j;                 //方法一
 // +        for(i=0; i<len; i++) {
 // +            for(j=0; j<(input.value.split('|').length); j++) {
 // +                if((input.value.split('|')[j]) == arr[i]) {
 // +                    alert('已有该景点');
 // +                    arr.splice(i,1)
 // +                }           
 // +            }    
 // +        }                                
 // +          
 // +        arr = arr.concat(ipt.value.split('|'));
 // +
             // add(arr);
         
 // +        console.log(arr);
 // +
 // +        ipute.value = '';
 
             // function add(arr2) {                 //方法二
             //     var i, len=arr2.length, j;
             //     for(i=0; i<len; i++) {
             //         for(j=i+1; j<len; j++) {
             //             if(arr2[i] == arr2[j]) {
             //                 arr2.splice(j,1)
             //             }
             //         }
             //     }
             //     return arr2;
             // }
       
    </script>
</body>
</html>